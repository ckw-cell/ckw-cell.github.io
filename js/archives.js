var archives = [{
        "id": 1,
        "title": "2021 年度阅读计划",
        "info": "不巧，我在等你",
        "time": "2021年04月03日"
    },
    {
        "id": 2,
        "title": "余早合集（篇三）",
        "info": "不巧，我在等你",
        "time": "2021年01月27日"
    },
    {
        "id": 3,
        "title": "尘埃落定",
        "info": "不巧，我在等你",
        "time": "2020年05月26日"
    },
    {
        "id": 4,
        "title": "十字路口，更加迷茫",
        "info": "不巧，我在等你",
        "time": "2020年05月18日"
    },
    {
        "id": 5,
        "title": "余早合集（篇二）",
        "info": "不巧，我在等你",
        "time": "2020年03月03日"
    },
    {
        "id": 6,
        "title": "我的 2020，未完待续",
        "info": "不巧，我在等你",
        "time": "2020年01月13日"
    },
    {
        "id": 7,
        "title": "周末闲谈（四）",
        "info": "不巧，我在等你",
        "time": "2019年08月17日"
    },
    {
        "id": 8,
        "title": "实习月记",
        "info": "不巧，我在等你",
        "time": "2019年06月02日"
    },
    {
        "id": 9,
        "title": "游戏之我见",
        "info": "不巧，我在等你",
        "time": "2019年03月29日"
    },
    {
        "id": 10,
        "title": "一只特立独行的猪",
        "info": "曾经风花雪月",
        "time": "2019年02月17日"
    },
    {
        "id": 11,
        "title": "余早合集（篇一）",
        "info": "不巧，我在等你",
        "time": "2018年12月18日"
    },
    {
        "id": 12,
        "title": "拾月",
        "info": "不巧，我在等你",
        "time": "2018年10月13日"
    },
    {
        "id": 13,
        "title": "也谈博客",
        "info": "不巧，我在等你",
        "time": "2018年08月28日"
    },
    {
        "id": 14,
        "title": "入手树莓派 3B+",
        "info": "吟咏代码为诗",
        "time": "2018年08月26日"
    },
    {
        "id": 15,
        "title": "忽而今夏，仍记那年悲欢",
        "info": "曾经风花雪月",
        "time": "2018年08月15日"
    },
    {
        "id": 16,
        "title": "最好的朋友在身边",
        "info": "曾经风花雪月",
        "time": "2018年08月13日"
    },
    {
        "id": 17,
        "title": "我的世界杯元年",
        "info": "不巧，我在等你",
        "time": "2018年07月16日"
    },
    {
        "id": 18,
        "title": "一款大气简洁的 typecho 主题：overflow",
        "info": "不巧，我在等你",
        "time": "2018年07月03日"
    },
    {
        "id": 19,
        "title": "父亲节：致父亲的一封信",
        "info": "不巧，我在等你",
        "time": "2018年06月17日"
    },
    {
        "id": 20,
        "title": "再见，体育课",
        "info": "不巧，我在等你",
        "time": "2018年06月15日"
    },
    {
        "id": 21,
        "title": "周末闲谈（三）",
        "info": "不巧，我在等你",
        "time": "2018年06月10日"
    },
    {
        "id": 22,
        "title": "雨落泪尽博客的发展历程",
        "info": "不巧，我在等你",
        "time": "2018年05月26日"
    },
    {
        "id": 23,
        "title": "周末闲谈（二）",
        "info": "曾经风花雪月",
        "time": "2018年05月01日"
    },
    {
        "id": 24,
        "title": "周末闲谈（一）",
        "info": "不巧，我在等你",
        "time": "2018年04月15日"
    },
    {
        "id": 25,
        "title": "人间四月天",
        "info": "曾经风花雪月",
        "time": "2018年04月06日"
    },
    {
        "id": 26,
        "title": "驺山古汐，微博大 V",
        "info": "不巧，我在等你",
        "time": "2018年03月18日"
    },
    {
        "id": 27,
        "title": "学习神器推荐：实验楼与 Cloud9",
        "info": "吟咏代码为师",
        "time": "2018年05月27日"
    },
    {
        "id": 28,
        "title": "一款清新的 typecho 主题：Optica",
        "info": "吟咏代码为师",
        "time": "2018年02月05日"
    },
    {
        "id": 29,
        "title": "为何以问为耻？",
        "info": "立身却在生平",
        "time": "2018年01月30日"
    },
    {
        "id": 30,
        "title": "一月纪事",
        "info": "立身却在生平",
        "time": "2018年01月15日"
    },
    {
        "id": 31,
        "title": "12-31 写在唯一的一个 2017 年",
        "info": "不巧，我在等你",
        "time": "2017年12月27日"
    },
    {
        "id": 32,
        "title": "讲课初体验",
        "info": "唯学高为人师",
        "time": "2017年12月22日"
    },
    {
        "id": 33,
        "title": "请记住我",
        "info": "不巧，我在等你",
        "time": "2017年12月09日"
    },
    {
        "id": 34,
        "title": "咿咿呀呀不知所云",
        "info": "唯学高为人师",
        "time": "2017年11月30日"
    },
    {
        "id": 35,
        "title": "黑五薅羊毛 ——20 美元",
        "info": "不巧，我在等你",
        "time": "2017年11月26日"
    },
    {
        "id": 37,
        "title": "带着数字与玫瑰旅行",
        "info": "不巧，我在等你",
        "time": "2017年11月23日"
    },
    {
        "id": 38,
        "title": "孟冬寒气至",
        "info": "不巧，我在等你",
        "time": "2017年11月18日"
    },
    {
        "id": 39,
        "title": "又一次组织班会",
        "info": "唯学高为人师",
        "time": "2017年11月07日"
    },
    {
        "id": 40,
        "title": "我当老师的这一年",
        "info": "唯学高为人师",
        "time": "2017年11月03日"
    },
    {
        "id": 41,
        "title": "告别赛门铁克，拥抱新证书",
        "info": "不巧，我在等你",
        "time": "2017年10月28日"
    },
    {
        "id": 42,
        "title": "利用 excel 批量创建不同名文件夹",
        "info": "吟咏代码为师",
        "time": "2017年10月23日"
    },
    {
        "id": 43,
        "title": "利用 miniflux 搭建自用 feed 阅读器",
        "info": "吟咏代码为师",
        "time": "2017年10月12日"
    },
    {
        "id": 44,
        "title": "亲爱的秦大叔回来了！",
        "info": "不巧，我在等你",
        "time": "2017年10月10日"
    },
    {
        "id": 45,
        "title": "十年",
        "info": "不巧，我在等你",
        "time": "2017年10月06日"
    },
    {
        "id": 46,
        "title": "一生只够爱一人",
        "info": "曾经风花雪月",
        "time": "2017年09月25日"
    },
    {
        "id": 47,
        "title": "未完待续，不是结局！",
        "info": "曾经风花雪月",
        "time": "2017年09月16日"
    },
    {
        "id": 48,
        "title": "为什么要感谢老师？",
        "info": "立身却在生平",
        "time": "2017年09月11日"
    },
    {
        "id": 49,
        "title": "网购开个发票就这么麻烦？",
        "info": "曾经风花雪月",
        "time": "2017年09月06日"
    },
    {
        "id": 50,
        "title": "手机套餐换不换？",
        "info": "曾经风花雪月",
        "time": "2017年09月04日"
    },
    {
        "id": 51,
        "title": "开启新域名：1998.su ",
        "info": "不巧，我在等你",
        "time": "2017年09月02日"
    },
    {
        "id": 52,
        "title": "差点以为要别了，我的腾讯云",
        "info": "吟咏代码为师",
        "time": "2017年08月29日"
    },
    {
        "id": 53,
        "title": "萍水相逢，后会有期",
        "info": "立身却在生平",
        "time": "2017年08月19日"
    },
    {
        "id": 54,
        "title": "解决腾讯网址报毒问题",
        "info": "吟咏代码为师",
        "time": "2017年08月13日"
    },
    {
        "id": 55,
        "title": "烟不抽，酒两盅",
        "info": "立身却在生平",
        "time": "2017年08月02日"
    },
    {
        "id": 56,
        "title": "暑假兼职二三事",
        "info": "不巧，我在等你",
        "time": "2017年07月26日"
    },
    {
        "id": 57,
        "title": "你有兴趣，我给你一个机会",
        "info": "不巧，我在等你",
        "time": "2017年07月20日"
    },
    {
        "id": 58,
        "title": "“可信网站” 真的可信吗？",
        "info": "立身却在生平",
        "time": "2017年07月16日"
    },
    {
        "id": 59,
        "title": "搭建 WAMP 本地开发环境",
        "info": "吟咏代码为师",
        "time": "2017年07月13日"
    },
    {
        "id": 60,
        "title": "教书匠不是个简单活儿",
        "info": "唯学高为人师",
        "time": "2017年07月10日"
    },
    {
        "id": 61,
        "title": "小结：写在大一结束",
        "info": "曾经风花雪月",
        "time": "2017年07月02日"
    },
    {
        "id": 62,
        "title": "有喜欢我博客这套主题的嘛？",
        "info": "吟咏代码为师",
        "time": "2017年06月27日"
    },
    {
        "id": 63,
        "title": "什么时候，我们才能不只看重结果",
        "info": "唯学高为人师",
        "time": "2017年06月21日"
    },
    {
        "id": 64,
        "title": "每天都是二三琐事",
        "info": "立身却在生平",
        "time": "2017年06月16日"
    },
    {
        "id": 65,
        "title": "一激动，就把老师们都踢出了班级群",
        "info": "曾经风花雪月",
        "time": "2017年06月09日"
    },
    {
        "id": 66,
        "title": "果然，我们都成了历史",
        "info": "立身却在生平",
        "time": "2017年06月07日"
    },
    {
        "id": 67,
        "title": "真想彻底放弃 ssl 加密传输了",
        "info": "吟咏代码为师",
        "time": "2017年06月06日"
    },
    {
        "id": 68,
        "title": "努力，不也是能力吗。",
        "info": "立身却在生平",
        "time": "2017年06月03日"
    },
    {
        "id": 69,
        "title": "在这世界的角落",
        "info": "不巧，我在等你",
        "time": "2017年06月01日"
    },
    {
        "id": 70,
        "title": "所谓教养，就是不将个人习惯强加于他人。",
        "info": "立身却在生平",
        "time": "2017年05月31日"
    },
    {
        "id": 71,
        "title": "端午，打开排油烟机的管道",
        "info": "不巧，我在等你",
        "time": "2017年05月30日"
    },
    {
        "id": 72,
        "title": "终于给小博客的电脑端穿上衣服。",
        "info": "吟咏代码为师",
        "time": "2017年05月29日"
    },
    {
        "id": 73,
        "title": "你还会说方言吗？",
        "info": "不巧，我在等你",
        "time": "2017年05月28日"
    },
    {
        "id": 74,
        "title": "折腾半天小绿锁，也能装逼了",
        "info": "不巧，我在等你",
        "time": "2017年05月28日"
    },
    {
        "id": 75,
        "title": "本博客的 cdn 加速配备，选择你最快的哦",
        "info": "不巧，我在等你",
        "time": "2017年05月27日"
    },
    {
        "id": 76,
        "title": "数据恢复，独缺评论",
        "info": "不巧，我在等你",
        "time": "2017年05月27日"
    },
    {
        "id": 77,
        "title": "博客重装，略感烦躁。",
        "info": "不巧，我在等你",
        "time": "2017年05月26日"
    },
    {
        "id": 78,
        "title": "欢迎使用 Typecho",
        "info": "不巧，我在等你",
        "time": "2017年05月26日"
    },
    {
        "id": 79,
        "title": "四十万票房着实委屈：电影《启功》",
        "info": "立身却在生平",
        "time": "2017年05月25日"
    },
    {
        "id": 80,
        "title": "折腾 CDN，给小水管减减压",
        "info": "不巧，我在等你",
        "time": "2017年05月24日"
    },
    {
        "id": 81,
        "title": "第一份教案 —— 初识华容道，巧解过五关",
        "info": "唯学高为人师",
        "time": "2017年05月23日"
    },
    {
        "id": 82,
        "title": "历经 16 天，备案号终于下来了。",
        "info": "不巧，我在等你",
        "time": "2017年05月23日"
    },
    {
        "id": 83,
        "title": "各自终究是过客，留不下一个名字",
        "info": "曾经风花雪月",
        "time": "2017年05月08日"
    },
    {
        "id": 84,
        "title": "我是雨落泪尽，亦是三世轮回......",
        "info": "曾经风花雪月",
        "time": "2017年05月08日"
    },
    {
        "id": 85,
        "title": "曾经有个 wap 社区，叫 e 界",
        "info": "曾经风花雪月",
        "time": "2017年05月08日"
    },
    {
        "id": 86,
        "title": "本博客源码及主题分享 ——Typecho&Optica for Typecho",
        "info": "吟咏代码为师",
        "time": "2017年05月08日"
    },
    {
        "id": 87,
        "title": "Hello,World. 不巧，我也在等你。",
        "info": "不巧，我在等你",
        "time": "2017年05月08日"
    }
]


var backColor = [{
        "value": "#B37B1B"
    },
    {
        "value": "#1291BD"
    },
    {
        "value": "#A94F68"
    },
    {
        "value": "#AFAF68"
    },
    {
        "value": "#137F68"
    },
    {
        "value": "#1F7489"
    },
    {
        "value": "#B41462"
    },
    {
        "value": "#368E8E"
    },
    {
        "value": "#1F6588"
    },
    {
        "value": "#28AF5E"
    },
    {
        "value": "aqua"
    },
    {
        "value": "yellow"
    },
    {
        "value": "red"
    },
    {
        "value": "pink"
    },
    {
        "value": "green"
    },
    {
        "value": "blue"
    },
    {
        "value": "skyblue"
    },
    {
        "value": "yellowgreen"
    }
]

function initArchs(arr) {
    if (typeof arr === "undefined") {
        arr = archives.slice();
        arr.length = 10;
    }
    var oBodys = document.getElementById("bodys");
    oBodys.innerHTML = '';
    for (var index = 0; index < arr.length; index++) {
        var item = arr[index];
        var bacColor = backColor[Math.floor(Math.random() * backColor.length)];
        var oA = document.createElement("a");
        var oP1 = document.createElement("p");
        var oP2 = document.createElement("p");
        oA.style.background = bacColor.value;
        oP1.innerHTML = item.title;
        oP2.innerHTML = item.time + " · " + item.info;
        oA.appendChild(oP1);
        oA.appendChild(oP2);
        oBodys.appendChild(oA);
    }
}

// 上一页下一页功能
function initPage() {
    var oBtn1 = document.getElementById("page-btn1");
    var oBtn2 = document.getElementById("page-btn2");
    var num = 0;
    if (num > 0) {
        oBtn1.style.visibility = "visible";
    } else {
        oBtn1.style.visibility = "hidden";
    }
    oBtn1.onclick = function () {
        if (num == 1) {
            oBtn1.style.visibility = "hidden";
        }
        if (num <= parseInt(archives.length / 10) + 1) {
            oBtn2.style.visibility = "visible";
        }
        num--;
        let item = archives.slice(num * 10, (+num + 1) * 10);
        initArchs(item);
        timer = setInterval(function () {
            var toTopLen = document.documentElement.scrollTop || document.body.scrollTop;
            toTopLen -= 20;
            if (toTopLen > 0) {
                window.scrollTo(0, toTopLen);
            } else {
                window.scrollTo(0, 0);
                clearInterval(timer);
            }
        }, 1);
    }

    oBtn2.onclick = function () {
        if (num == 0) {
            oBtn1.style.visibility = "visible";
        }
        if (num == parseInt(archives.length / 10) - 1) {
            oBtn2.style.visibility = "hidden";
        }
        num++;
        let item = archives.slice(num * 10, (+num + 1) * 10);
        initArchs(item);
        timer = setInterval(function () {
            var toTopLen = document.documentElement.scrollTop || document.body.scrollTop;
            toTopLen -= 20;
            if (toTopLen > 0) {
                window.scrollTo(0, toTopLen);
            } else {
                window.scrollTo(0, 0);
                clearInterval(timer);
            }
        }, 1);
    }
}


// 回车搜索功能
function EnterPress(e) {
    var e = e || window.event;
    var objKeyWord = document.getElementById("nav-input");
    var objKeyWord1 = document.getElementById("menu-input");
    var searchBtn = document.getElementById("search-btn");
    searchBtn.onclick = function () {
        if (objKeyWord.value.length) {
            var itemArr = archives.filter(function (item) {
                return item.title.match(objKeyWord.value);
            });
            initArchs(itemArr);
        } else if (objKeyWord1.value.length) {
            var itemArr = archives.filter(function (item) {
                return item.title.match(objKeyWord1.value);
            });
            initArchs(itemArr);
        } else {
            alert("内容不能为空！");
        }
    }
    if (e.keyCode == 13) {
        if (objKeyWord.value.length) {
            var itemArr = archives.filter(function (item) {
                return item.title.match(objKeyWord.value);
            });
            initArchs(itemArr);
        } else if (objKeyWord1.value.length) {
            var itemArr = archives.filter(function (item) {
                return item.title.match(objKeyWord1.value);
            });
            initArchs(itemArr);
        } else {
            alert("内容不能为空！");
        }
    }
}

// 分类导航
function sortNav(elBtn) {
    var navSort1 = document.getElementById(elBtn);
    var sortValue = navSort1.getElementsByTagName("p")[0];
    navSort1.onclick = function () {
        var itemArr = archives.filter(function (item) {
            return item.info.match(sortValue.innerText);
        });
        initArchs(itemArr);
    }
}

sortNav("nav-sort1");
sortNav("nav-sort2");
sortNav("nav-sort3");
sortNav("nav-sort4");
sortNav("nav-sort5");
sortNav("menu-sort1");
sortNav("menu-sort2");
sortNav("menu-sort3");
sortNav("menu-sort4");
sortNav("menu-sort5");
initPage();
initArchs();